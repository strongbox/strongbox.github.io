
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>Writing controllers - Strongbox</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f0267088.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../assets/stylesheets/style.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-134135156-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-implement-controllers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../index.html" title="Strongbox" class="md-header-nav__button md-logo" aria-label="Strongbox">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Strongbox
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Writing controllers
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/strongbox/strongbox/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    strongbox/strongbox
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../index.html" class="md-tabs__link">
        Introduction
      </a>
    
  </li>

      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../user-guide/getting-started.html" class="md-tabs__link">
          User guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="index.html" class="md-tabs__link md-tabs__link--active">
          Developer guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../knowledge-base/artifact-coordinates.html" class="md-tabs__link">
          Knowledge Base
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../hackfests/index.html" class="md-tabs__link">
          Hackfests
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../chat-redirect.html" class="md-tabs__link">
          Join chat
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Strongbox" class="md-nav__button md-logo" aria-label="Strongbox">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Strongbox
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/strongbox/strongbox/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    strongbox/strongbox
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../release-notes.html" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing.html" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../license.html" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      User guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User guide" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/getting-started.html" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Configuration Files
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Configuration Files" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        <span class="md-nav__icon md-icon"></span>
        Configuration Files
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/configuration-files/strongbox-yaml.html" class="md-nav__link">
      The strongbox.yaml file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/configuration-files/strongbox-authorization-yaml.html" class="md-nav__link">
      The strongbox-authorization.yaml file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/configuration-files/strongbox-cron-tasks-yaml.html" class="md-nav__link">
      The strongbox-cron-tasks.yaml file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/configuration-files/strongbox-security-users-yaml.html" class="md-nav__link">
      The strongbox-security-users.yaml file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/application-properties.html" class="md-nav__link">
      Application properties
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/directory-structure.html" class="md-nav__link">
      Directory structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/upgrading.html" class="md-nav__link">
      Upgrading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-6" type="checkbox" id="nav-5-6">
    
    <label class="md-nav__link" for="nav-5-6">
      User Interface
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User Interface" data-md-level="2">
      <label class="md-nav__title" for="nav-5-6">
        <span class="md-nav__icon md-icon"></span>
        User Interface
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/ui/browsing.html" class="md-nav__link">
      Browsing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/ui/global-settings.html" class="md-nav__link">
      Global settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/ui/user-management.html" class="md-nav__link">
      User management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/ui/storage-management.html" class="md-nav__link">
      Storage management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/ui/system-information.html" class="md-nav__link">
      System Information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/ui/default-url-users.html" class="md-nav__link">
      Default URL and Credentials
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/artifact-query-language.html" class="md-nav__link">
      AQL (search)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/artifact-routing-rules.html" class="md-nav__link">
      Artifact Routing Rules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/rest-api.html" class="md-nav__link">
      REST API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-10" type="checkbox" id="nav-5-10">
    
    <label class="md-nav__link" for="nav-5-10">
      Tool Integration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tool Integration" data-md-level="2">
      <label class="md-nav__title" for="nav-5-10">
        <span class="md-nav__icon md-icon"></span>
        Tool Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/ant-ivy-example.html" class="md-nav__link">
      Ant + Ivy Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/gradle-example.html" class="md-nav__link">
      Gradle Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/maven-example.html" class="md-nav__link">
      Maven Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/npm-example.html" class="md-nav__link">
      NPM Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/nuget-chocolatey-example.html" class="md-nav__link">
      Nuget + Chocolatey Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/nuget-mono-example.html" class="md-nav__link">
      Nuget + Mono Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/nuget-visual-studio-example.html" class="md-nav__link">
      Nuget + Visual Studio Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/pypi-example.html" class="md-nav__link">
      PyPi Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/sbt-example.html" class="md-nav__link">
      SBT Example
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/tool-integration/yarn-example.html" class="md-nav__link">
      Yarn Example
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Developer guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Developer guide" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Developer guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="index.html" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="getting-started.html" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Building
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Building" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        <span class="md-nav__icon md-icon"></span>
        Building
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="building-the-code.html" class="md-nav__link">
      Building the code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="building-the-code-with-docker.html" class="md-nav__link">
      Building the code (Docker)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="building-strongbox-using-strongbox-instance.html" class="md-nav__link">
      Building Strongbox using a Strongbox instance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      IDE setup
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="IDE setup" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        <span class="md-nav__icon md-icon"></span>
        IDE setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="ide-setup/eclipse.html" class="md-nav__link">
      Eclipse
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="project-structure.html" class="md-nav__link">
      Project structure
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-6" type="checkbox" id="nav-6-6" checked>
    
    <label class="md-nav__link" for="nav-6-6">
      Writing code
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Writing code" data-md-level="2">
      <label class="md-nav__title" for="nav-6-6">
        <span class="md-nav__icon md-icon"></span>
        Writing code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="coding-convention.html" class="md-nav__link">
      Coding convention
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="getting-started-with-persistence.html" class="md-nav__link">
      Getting started with persistence
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Writing controllers
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="how-to-implement-spring-controllers.html" class="md-nav__link md-nav__link--active">
      Writing controllers
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preface" class="md-nav__link">
    Preface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-rules" class="md-nav__link">
    General rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring-form-validation-rules" class="md-nav__link">
    Spring Form Validation Rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-code" class="md-nav__link">
    Example code
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="using-the-event-api.html" class="md-nav__link">
      Events API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-6-5" type="checkbox" id="nav-6-6-5">
    
    <label class="md-nav__link" for="nav-6-6-5">
      Layout providers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Layout providers" data-md-level="3">
      <label class="md-nav__title" for="nav-6-6-5">
        <span class="md-nav__icon md-icon"></span>
        Layout providers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="layout-providers/how-to-implement-your-own-repository-format.html" class="md-nav__link">
      Writing a layout provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-6-5-2" type="checkbox" id="nav-6-6-5-2">
    
    <label class="md-nav__link" for="nav-6-6-5-2">
      Implemented providers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Implemented providers" data-md-level="4">
      <label class="md-nav__title" for="nav-6-6-5-2">
        <span class="md-nav__icon md-icon"></span>
        Implemented providers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="layout-providers/maven-2-layout-provider.html" class="md-nav__link">
      Maven Layout Provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="layout-providers/npm-layout-provider.html" class="md-nav__link">
      NPM Layout Provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="layout-providers/nuget-layout-provider.html" class="md-nav__link">
      NuGet Layout Provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="layout-providers/raw-layout-provider.html" class="md-nav__link">
      Raw Layout Provider
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-6-6" type="checkbox" id="nav-6-6-6">
    
    <label class="md-nav__link" for="nav-6-6-6">
      Metadata
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Metadata" data-md-level="3">
      <label class="md-nav__title" for="nav-6-6-6">
        <span class="md-nav__icon md-icon"></span>
        Metadata
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="metadata/maven-metadata.html" class="md-nav__link">
      Maven Metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="metadata/npm-metadata.html" class="md-nav__link">
      NPM Metadata
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="add-logging.html" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="search-providers.html" class="md-nav__link">
      Search Providers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="maven-indexer.html" class="md-nav__link">
      Maven Indexer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="how-to-implement-a-custom-authenticator.html" class="md-nav__link">
      Writing custom authenticator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="how-to-inspect-a-hazelcast-cache.html" class="md-nav__link">
      Inspecting Hazelcast
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="upgrading-dependencies-and-plugins.html" class="md-nav__link">
      Upgrading Dependencies And Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-8" type="checkbox" id="nav-6-8">
    
    <label class="md-nav__link" for="nav-6-8">
      Using Git
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Using Git" data-md-level="2">
      <label class="md-nav__title" for="nav-6-8">
        <span class="md-nav__icon md-icon"></span>
        Using Git
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="git/rebase-vs-merge.html" class="md-nav__link">
      Rebasing vs Merging
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-9" type="checkbox" id="nav-6-9">
    
    <label class="md-nav__link" for="nav-6-9">
      Writing tests
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Writing tests" data-md-level="2">
      <label class="md-nav__title" for="nav-6-9">
        <span class="md-nav__icon md-icon"></span>
        Writing tests
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="writing-tests.html" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="junit-user-guide.html" class="md-nav__link">
      JUnit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="assertj-user-guide.html" class="md-nav__link">
      AssertJ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="writing-web-form-tests.html" class="md-nav__link">
      Web Form Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="writing-web-integration-tests.html" class="md-nav__link">
      Web Integration Tests
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="how-to-gather-requirements.html" class="md-nav__link">
      How To Gather Requirements
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Knowledge Base
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Knowledge Base" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Knowledge Base
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../knowledge-base/artifact-coordinates.html" class="md-nav__link">
      Artifact Coordinates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      Artifact Coordinate Validators
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Artifact Coordinate Validators" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        <span class="md-nav__icon md-icon"></span>
        Artifact Coordinate Validators
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../knowledge-base/artifact-coordinate-validators/artifact-coordinate-validators.html" class="md-nav__link">
      Generic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../knowledge-base/artifact-coordinate-validators/artifact-coordinate-validators-maven.html" class="md-nav__link">
      Maven
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../knowledge-base/layout-providers.html" class="md-nav__link">
      Layout Providers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../knowledge-base/repositories.html" class="md-nav__link">
      Repositories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../knowledge-base/storages.html" class="md-nav__link">
      Storages
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Hackfests
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Hackfests" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Hackfests
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hackfests/index.html" class="md-nav__link">
      Hackfest Guidelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Grace Hopper Celebration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Grace Hopper Celebration" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        <span class="md-nav__icon md-icon"></span>
        Grace Hopper Celebration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hackfests/grace-hopper-celebration/index.html" class="md-nav__link">
      About Grace Hopper Celebration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hackfests/grace-hopper-celebration/ghc-osd-2020.html" class="md-nav__link">
      Grace Hopper Opensource Day (2020)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hackfests/hacktoberfest/index.html" class="md-nav__link">
      Hacktoberfest
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Join chat
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Join chat" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Join chat
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../chat-redirect.html" class="md-nav__link">
      Join chat
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preface" class="md-nav__link">
    Preface
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-rules" class="md-nav__link">
    General rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spring-form-validation-rules" class="md-nav__link">
    Spring Form Validation Rules
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-code" class="md-nav__link">
    Example code
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
    
                
                  <a href="https://github.com/strongbox/strongbox-docs/edit/master/docs/developer-guide/how-to-implement-spring-controllers.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="how-to-implement-controllers">How to implement controllers<a class="headerlink" href="#how-to-implement-controllers" title="Permanent link">&para;</a></h1>
<h2 id="preface">Preface<a class="headerlink" href="#preface" title="Permanent link">&para;</a></h2>
<p>This guideline aims to outline some of the basic expectations that must be met before you can commit your code. The scope
of this guide are controllers which will be used by the front-end. Controllers which are specific to handling traffic 
such as downloading/uploading/processing artifacts are out of this scope and need to be discussed before proceeding. 
In case you have doubts, conflicts or any questions/ideas, please don't hesitate to message us on gitter!</p>
<p>The key words "<strong>MUST</strong>", "<strong>MUST NOT</strong>", "<strong>REQUIRED</strong>", "<strong>SHALL</strong>", "<strong>SHALL NOT</strong>", "<strong>SHOULD</strong>", "<strong>SHOULD NOT</strong>", 
"<strong>RECOMMENDED</strong>", "<strong>MAY</strong>", and "<strong>OPTIONAL</strong>" in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>.</p>
<div id="general-rule-1"></div>

<h2 id="general-rules">General rules<a class="headerlink" href="#general-rules" title="Permanent link">&para;</a></h2>
<div id="general-rule-2"></div>

<p><a href="#general-rule-1">1.</a> You <strong>MUST</strong> have your controller stored in <code>./strongbox-web-core/src/main/java/org/carlspring/strongbox/controllers</code> 
or a proper sub-directory in that path.</p>
<div id="general-rule-3"></div>

<p><a href="#general-rule-2">2.</a> You <strong>MUST</strong> have test cases which cover as much as possible your controller.</p>
<div id="general-rule-4"></div>

<p><a href="#general-rule-3">3.</a> Your endpoints <strong>MUST</strong> always be able to produce <code>MediaType.APPLICATION_JSON_VALUE</code>.</p>
<div id="general-rule-5"></div>

<p><a href="#general-rule-4">4.</a> If your controller/method is going to be processing data submitted by a client, you <strong>MUST</strong> use 
Spring Form Validation and follow the <a href="#form-validation">Spring Form Validation Rules</a> which also shows an example.</p>
<div id="general-rule-5.1"></div>

<p><a href="#general-rule-5">5.</a> You <strong>MUST</strong> respond with an appropriate status code and <code>successful</code> or <code>failed</code> message 
when an action has been completed (i.e. user created/updated/deleted). <code>BaseController</code> has already implemented methods for these cases.</p>
<ul>
<li>Status code for <strong>successful</strong> operations <strong>MUST</strong> be <code>200 OK</code></li>
<li>Status code for <strong>failed</strong> operations <strong>SHOULD</strong> be <code>400 Bad Request</code> or any other status code which better describes the issue.</li>
<li>When possible, the failure message <strong>SHOULD</strong> contain some information about why the operation has failed - i.e username already exists. </li>
<li>You <strong>SHOULD</strong> avoid using <code>e.getMessage()</code> because it's not immediately apparent what's wrong and the user might not 
     even know what the exception message means. </li>
</ul>
<p><a href="#general-rule-5.1">5.1</a> When returning a <code>successful</code> or <code>failed</code> message, you <strong>MUST</strong> also take into account 
the request's <code>Accept</code> header and respond with <code>MediaType.APPLICATION_JSON_VALUE</code> for <code>Accept: application/json</code> 
and <code>MediaType.TEXT_PLAIN_VALUE</code> for <code>Accept: text/plain</code>. </p>
<div id="general-rule-5-example-plain-text"></div>

<ul>
<li>
<p>Your <code>text/plain</code> response <strong>MUST</strong> only contain an informative message in the response body as shown in the examples below. </p>
<details class="note"><summary><a href="#general-rule-5-example-plain-text">Example for text/plain response</a></summary><ul>
<li>Client <code>Accept: text/plain</code> and performed operation was <strong><em>successful</em></strong>
  <div class="highlight"><pre><span></span><code>Status: 200 OK
Body: User was successfully created!
</code></pre></div></li>
<li>Client <code>Accept: text/plain</code> and performed operation has <strong><em>failed</em></strong> (i.e. form validation failed or something else happened)
  <div class="highlight"><pre><span></span><code>Status: 400 Bad Request
Body: User cannot be saved because the submitted form contains errors!
</code></pre></div></li>
<li>Client <code>Accept: text/plain</code> and performed operation has <strong><em>failed</em></strong> (i.e. form validation failed or something else happened)
  <div class="highlight"><pre><span></span><code>Status: 409 Conflict
Body: User with the same username has already been registered.  
</code></pre></div></li>
</ul>
</details>
</li>
</ul>
<div id="general-rule-5-example-json"></div>

<ul>
<li>
<p>Your <code>application/json</code> response <strong>MUST</strong> contain an informative message and <strong>MAY</strong> contain additional information (i.e. <a href="#general-rule-5-example-json">form errors</a>) </p>
<p><div id="general-rule-6"></div> </p>
<details class="note"><summary><a href="#general-rule-5-example-json">Examples for JSON response</a></summary><ul>
<li>Client <code>Accept: application/json</code> and performed operation was <strong><em>successful</em></strong>
 <div class="highlight"><pre><span></span><code>Status: 200 OK
Body: 
{
   &quot;message&quot;: &quot;User was successfully created!&quot;
}     
</code></pre></div></li>
<li>Client <code>Accept: application/json</code> and performed operation has <strong><em>failed</em></strong> because submitted form data was invalid.<br />
  <div class="highlight"><pre><span></span><code>Status: 400 Bad Request
Body:
{
 &quot;message&quot;: &quot;User cannot be saved because the submitted form contains errors!&quot;,
 &quot;errors&quot;: [
   {
     &quot;password&quot;: [
       &quot;This field is less than 6 characters long!&quot;,
       &quot;This field requires at least 2 capital letters&quot;
     ]
   },
   {
     &quot;username&quot;: [
       &quot;Username is already registered.&quot;
     ]
   }
 ]
}
</code></pre></div></li>
<li>Client <code>Accept: application/json</code> and performed operation has <strong><em>failed</em></strong> for whatever other reason.
  <div class="highlight"><pre><span></span><code>Status: 409 Conflict
Body:
{
  &quot;message&quot;: &quot;User with the same username has already been registered.&quot;
} 
</code></pre></div></li>
</ul>
</details>
</li>
</ul>
<div id="general-rule-7"></div>

<p><a href="#general-rule-6">6.</a> <code>EntityBody</code> objects <strong>SHOULD</strong> be stored:</p>
<ul>
<li>in <code>./strongbox-web-core/src/main/java/org/carlspring/strongbox/controllers/support</code> or a proper sub-directory in that path.</li>
<li>in the path/sub-path of the controller - i.e. <code>.../controllers/users/support</code></li>
</ul>
<div id="general-rule-8"></div>

<p><a href="#general-rule-7">7.</a> You <strong>SHOULD NOT</strong> return status code <code>500</code> in a controller, except for cases when it's really unclear what 
might have gone wrong and that's truly the only reasonable response.</p>
<p><a href="#general-rule-8">8.</a> When you return <code>JSON</code> and it contains collections - you <strong>SHOULD</strong> return them as an <code>array of objects</code> and not an <code>object</code> with properties. Doing otherwise will have negative effects because:
 - In JavaScript <code>{}</code> is considered to be an <code>object</code> and <code>[]</code> is an array. What happens if you return a collection in <code>{}</code> is you end up having an <code>object</code> with properties instead of an <code>array of objects</code>. This could happen if you use <code>Map&lt;String, Collection&lt;String&gt;&gt;</code> or other similar java types in the class you are converting to <code>JSON</code>.
 - TypeScript has static type-checking and this "bad" json requires some ugly coding for the compiler to get the code working.
 - The UI has form validation and can display collections, but for this to work it <strong>requires</strong> an array. Receiving "bad" json will require converting it from an <code>object with properties</code> to an <code>array of objects</code> so it can work in the frontend. Afterwards it has to be converted back to the old format to be acceptable by the backend for when the form is being submitted to the server. 
 - The UI is using <a href="https://github.com/typestack/class-transformer">class-transformer</a> which transforms the received <code>JSON</code> into an actual <code>Class</code> so that will be broken as well.</p>
<p>In case you have doubts about this - feel free to ask us in <a href="https://gitter.im/strongbox/strongbox?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge">gitter</a>!</p>
<ul>
<li>
<p><strong>"BAD" JSON</strong> - You should avoid this unless it's specifically mentioned in the issue you're doing or there is a very, <strong>very</strong> good reason for this which has been approved.
    <div class="highlight"><pre><span></span><code>{
  &quot;user&quot;: {
      &quot;username&quot;: &quot;my-user&quot;
      &quot;permissions&quot;: {
          &quot;/some/path&quot;: [&quot;READ&quot;, &quot;WRITE&quot;],
          &quot;/some/other/path&quot;: [&quot;READ&quot;]
      }
  }
}
</code></pre></div></p>
</li>
<li>
<p><strong>GOOD JSON</strong>
    <div class="highlight"><pre><span></span><code>{
  &quot;user&quot;: {
      &quot;username&quot;: &quot;my-user&quot;
      &quot;permissions&quot;: [
         {
            &quot;path&quot;: &quot;/some/path&quot;,
            &quot;permissions&quot;: [&quot;READ&quot;, &quot;WRITE&quot;]
         },
         {
            &quot;path&quot;: &quot;/some/other/path&quot;,
            &quot;permissions&quot;: [&quot;READ&quot;]
         }
      ]
  }
}
</code></pre></div></p>
</li>
</ul>
<div id="form-validation"></div>
<div id="form-validation-1"></div>

<h2 id="spring-form-validation-rules">Spring Form Validation Rules<a class="headerlink" href="#spring-form-validation-rules" title="Permanent link">&para;</a></h2>
<p>These rules are only applied for Controllers which have Spring Form Validation (form validation for short).</p>
<div id="form-validation-2"></div>

<p><a href="#form-validation-1">1.</a> You <strong>MUST</strong> store <code>Form</code> classes in <code>./strongbox-web-core/src/main/java/org/carlspring/strongbox/forms/</code> or a proper 
sub-directory in that path.</p>
<div id="form-validation-3"></div>

<p><a href="#form-validation-2">2.</a> Unless said otherwise, your validation endpoint <strong>MUST</strong> only consume <strong>JSON</strong>. </p>
<div id="form-validation-4"></div>

<p><a href="#form-validation-3">3.</a> You <strong>MUST</strong> add validation rules to your form fields to avoid saving invalid data.   </p>
<div id="form-validation-5"></div>

<p><a href="#form-validation-4">4.</a> You <strong>MUST</strong> follow the <a href="#general-rule-5">General Rule #5</a> and <a href="#general-rule-5.1">General Rule #5.1</a> and return a <code>successful</code> or <code>failed</code> 
message when the form has been processed. </p>
<ul>
<li>If the form is invalid, when returning the <strong>failure</strong> message you <strong>MUST</strong> also include <code>errors</code> array which contains
the error messages per field (i.e. min length is N but user gave N-1 / field requires int but got string). Check the <a href="#general-rule-5-example-json">Examples for JSON response</a> 
section.</li>
</ul>
<p><a href="#form-validation-5">5.</a> In case you are implementing a custom validator - you <strong>SHOULD</strong> follow the <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#validation-beanvalidation-spring-constraints">Spring Framework Reference</a>. </p>
<h2 id="example-code">Example code<a class="headerlink" href="#example-code" title="Permanent link">&para;</a></h2>
<details class="note"><summary>ExampleController.java</summary><div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">org.carlspring.strongbox.controllers</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.carlspring.strongbox.controllers.support.ExampleEntityBody</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.carlspring.strongbox.forms.ExampleForm</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.carlspring.strongbox.validation.RequestBodyValidationException</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">io.swagger.annotations.*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpHeaders</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.MediaType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.validation.BindingResult</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.validation.annotation.Validated</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.*</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * This oversimplified example controller is written following the How-To-Implement-Spring-Controllers guide.</span>
<span class="cm"> * It&#39;s purpose is entirely educational and is meant to help newcomers.</span>
<span class="cm"> * &lt;p&gt;</span>
<span class="cm"> * https://github.com/strongbox/strongbox/wiki/How-To-Implement-Spring-Controllers</span>
<span class="cm"> *</span>
<span class="cm"> * @author Przemyslaw Fusik</span>
<span class="cm"> * @author Steve Todorov</span>
<span class="cm"> */</span>
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/example-controller&quot;</span><span class="p">)</span>
<span class="nd">@Api</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/example-controller&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleController</span>
    <span class="kd">extends</span> <span class="n">BaseController</span>
<span class="p">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">NOT_FOUND_MESSAGE</span> <span class="o">=</span> <span class="s">&quot;Could not find record in database.&quot;</span><span class="p">;</span>


    <span class="nd">@ApiOperation</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;List available examples&quot;</span><span class="p">)</span>
    <span class="nd">@ApiResponses</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="p">{</span> <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Everything went ok&quot;</span><span class="p">)</span> <span class="p">})</span>
    <span class="nd">@GetMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/all&quot;</span><span class="p">,</span>
                <span class="n">consumes</span> <span class="o">=</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">,</span>
                <span class="n">produces</span> <span class="o">=</span> <span class="p">{</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span> <span class="p">})</span>
    <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">getExamples</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;bar&quot;</span><span class="p">,</span> <span class="s">&quot;list&quot;</span><span class="p">,</span> <span class="s">&quot;of&quot;</span><span class="p">,</span> <span class="s">&quot;strings&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">getJSONListResponseEntityBody</span><span class="p">(</span><span class="s">&quot;examples&quot;</span><span class="p">,</span> <span class="n">list</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@ApiOperation</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Show specific example&quot;</span><span class="p">)</span>
    <span class="nd">@ApiResponses</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="p">{</span> <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Everything went ok&quot;</span><span class="p">)</span> <span class="p">})</span>
    <span class="nd">@GetMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/get/{example}&quot;</span><span class="p">,</span>
                <span class="n">consumes</span> <span class="o">=</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">,</span>
                <span class="n">produces</span> <span class="o">=</span> <span class="p">{</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">,</span>
                             <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span> <span class="p">})</span>
    <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">getExample</span><span class="p">(</span><span class="nd">@ApiParam</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Get a specific example&quot;</span><span class="p">,</span> <span class="n">required</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
                                     <span class="nd">@PathVariable</span> <span class="n">String</span> <span class="n">example</span><span class="p">,</span>
                                     <span class="nd">@RequestHeader</span><span class="p">(</span><span class="n">HttpHeaders</span><span class="p">.</span><span class="na">ACCEPT</span><span class="p">)</span> <span class="n">String</span> <span class="n">accept</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">example</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;not-found&quot;</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">getNotFoundResponseEntity</span><span class="p">(</span><span class="n">NOT_FOUND_MESSAGE</span><span class="p">,</span> <span class="n">accept</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">ExampleEntityBody</span> <span class="n">body</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExampleEntityBody</span><span class="p">(</span><span class="n">example</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">ResponseEntity</span><span class="p">.</span><span class="na">ok</span><span class="p">(</span><span class="n">body</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@ApiOperation</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Update example&#39;s credentials.&quot;</span><span class="p">)</span>
    <span class="nd">@ApiResponses</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="p">{</span> <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Everything went ok&quot;</span><span class="p">),</span>
                            <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Validation errors occurred&quot;</span><span class="p">)</span> <span class="p">})</span>
    <span class="nd">@PostMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/update/{example}&quot;</span><span class="p">,</span>
                 <span class="n">consumes</span> <span class="o">=</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">,</span>
                 <span class="n">produces</span> <span class="o">=</span> <span class="p">{</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">,</span>
                              <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span> <span class="p">})</span>
    <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">updateExample</span><span class="p">(</span>
        <span class="nd">@ApiParam</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Update a specific example using form validation&quot;</span><span class="p">,</span> <span class="n">required</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
        <span class="nd">@PathVariable</span> <span class="n">String</span> <span class="n">example</span><span class="p">,</span>
        <span class="nd">@RequestHeader</span><span class="p">(</span><span class="n">HttpHeaders</span><span class="p">.</span><span class="na">ACCEPT</span><span class="p">)</span> <span class="n">String</span> <span class="n">accept</span><span class="p">,</span>
        <span class="nd">@RequestBody</span><span class="p">(</span><span class="n">required</span> <span class="o">=</span> <span class="kc">false</span><span class="p">)</span> <span class="nd">@Validated</span> <span class="n">ExampleForm</span> <span class="n">exampleForm</span><span class="p">,</span>
        <span class="n">BindingResult</span> <span class="n">bindingResult</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">example</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;not-found&quot;</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">getNotFoundResponseEntity</span><span class="p">(</span><span class="n">NOT_FOUND_MESSAGE</span><span class="p">,</span> <span class="n">accept</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// In case of form validation failures - throw a RequestBodyValidationException.</span>
        <span class="c1">// This will be automatically handled afterwards.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">exampleForm</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">RequestBodyValidationException</span><span class="p">(</span><span class="s">&quot;Empty request body&quot;</span><span class="p">,</span> <span class="n">bindingResult</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">bindingResult</span><span class="p">.</span><span class="na">hasErrors</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">RequestBodyValidationException</span><span class="p">(</span><span class="s">&quot;Validation error&quot;</span><span class="p">,</span> <span class="n">bindingResult</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">getSuccessfulResponseEntity</span><span class="p">(</span><span class="s">&quot;Credentials have been successfully updated.&quot;</span><span class="p">,</span> <span class="n">accept</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@ApiOperation</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Delete an example&quot;</span><span class="p">)</span>
    <span class="nd">@ApiResponses</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="p">{</span> <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Everything went ok&quot;</span><span class="p">),</span>
                            <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">404</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Example could not be found.&quot;</span><span class="p">)</span> <span class="p">})</span>
    <span class="nd">@DeleteMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/delete/{example}&quot;</span><span class="p">,</span>
                   <span class="n">consumes</span> <span class="o">=</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">,</span>
                   <span class="n">produces</span> <span class="o">=</span> <span class="p">{</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">,</span>
                                <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span> <span class="p">})</span>
    <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">deleteExample</span><span class="p">(</span><span class="nd">@ApiParam</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Delete a specific example&quot;</span><span class="p">,</span> <span class="n">required</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
                                        <span class="nd">@PathVariable</span> <span class="n">String</span> <span class="n">example</span><span class="p">,</span>
                                        <span class="nd">@RequestHeader</span><span class="p">(</span><span class="n">HttpHeaders</span><span class="p">.</span><span class="na">ACCEPT</span><span class="p">)</span> <span class="n">String</span> <span class="n">accept</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">example</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;not-found&quot;</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">getNotFoundResponseEntity</span><span class="p">(</span><span class="n">NOT_FOUND_MESSAGE</span><span class="p">,</span> <span class="n">accept</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">getSuccessfulResponseEntity</span><span class="p">(</span><span class="s">&quot;example has been successfully deleted.&quot;</span><span class="p">,</span> <span class="n">accept</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@ApiOperation</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Handling exceptions&quot;</span><span class="p">)</span>
    <span class="nd">@ApiResponses</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="p">{</span> <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Everything went ok&quot;</span><span class="p">),</span>
                            <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Something really bad and unpredictable happened.&quot;</span><span class="p">)</span> <span class="p">})</span>
    <span class="nd">@GetMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/handle-exception&quot;</span><span class="p">,</span>
                <span class="n">consumes</span> <span class="o">=</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">,</span>
                <span class="n">produces</span> <span class="o">=</span> <span class="p">{</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">,</span>
                             <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span> <span class="p">})</span>
    <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">handleExceptions</span><span class="p">(</span><span class="nd">@RequestHeader</span><span class="p">(</span><span class="n">HttpHeaders</span><span class="p">.</span><span class="na">ACCEPT</span><span class="p">)</span> <span class="n">String</span> <span class="n">accept</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">try</span>
        <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">Exception</span><span class="p">(</span><span class="s">&quot;Something bad happened.&quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;This example message will be logged in the logs and sent to the client.&quot;</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">getExceptionResponseEntity</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">accept</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nd">@ApiOperation</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;Handling unhadled exceptions&quot;</span><span class="p">)</span>
    <span class="nd">@ApiResponses</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="p">{</span> <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Everything went ok&quot;</span><span class="p">),</span>
                            <span class="nd">@ApiResponse</span><span class="p">(</span><span class="n">code</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;Something really bad and unpredictable happened.&quot;</span><span class="p">)</span> <span class="p">})</span>
    <span class="nd">@GetMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/unhandled-exception&quot;</span><span class="p">,</span> 
                <span class="n">consumes</span> <span class="o">=</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">,</span> 
                <span class="n">produces</span> <span class="o">=</span> <span class="p">{</span> <span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">,</span> 
                             <span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span> <span class="p">})</span>
    <span class="kd">public</span> <span class="n">ResponseEntity</span> <span class="nf">unhandledExceptions</span><span class="p">(</span><span class="nd">@RequestHeader</span><span class="p">(</span><span class="n">HttpHeaders</span><span class="p">.</span><span class="na">ACCEPT</span><span class="p">)</span> <span class="n">String</span> <span class="n">accept</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">Exception</span><span class="p">(</span><span class="s">&quot;Something bad happened.&quot;</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
</details>
<details class="note"><summary>ExampleForm.java</summary><div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">org.carlspring.strongbox.forms</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">javax.validation.constraints.NotNull</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.validation.constraints.Pattern</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.validation.constraints.Size</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.bind.annotation.XmlAccessType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.bind.annotation.XmlAccessorType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.bind.annotation.XmlRootElement</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * @author Przemyslaw Fusik</span>
<span class="cm"> */</span>
<span class="nd">@XmlRootElement</span>
<span class="nd">@XmlAccessorType</span><span class="p">(</span><span class="n">XmlAccessType</span><span class="p">.</span><span class="na">FIELD</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleForm</span>
<span class="p">{</span>

    <span class="nd">@NotNull</span>
    <span class="nd">@Size</span><span class="p">(</span><span class="n">max</span> <span class="o">=</span> <span class="mi">64</span><span class="p">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">username</span><span class="p">;</span>

    <span class="nd">@Size</span><span class="p">(</span><span class="n">min</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;This field is less than 6 characters long!&quot;</span><span class="p">)</span>
    <span class="nd">@Pattern</span><span class="p">(</span><span class="n">regexp</span> <span class="o">=</span> <span class="s">&quot;.*[A-Z].*[A-Z].*&quot;</span><span class="p">,</span> <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;This field requires at least 2 capital letters&quot;</span><span class="p">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">password</span><span class="p">;</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUsername</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">username</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUsername</span><span class="p">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">username</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">username</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getPassword</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">password</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPassword</span><span class="p">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">password</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">password</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</details>
<details class="note"><summary>ExampleControllerTest.java</summary><div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">org.carlspring.strongbox.controllers</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.carlspring.strongbox.config.IntegrationTest</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.carlspring.strongbox.forms.ExampleForm</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.carlspring.strongbox.rest.common.RestAssuredBaseTest</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.extension.ExtendWith</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.MediaType</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.context.junit.jupiter.SpringExtension</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">io.restassured.module.mockmvc.RestAssuredMockMvc.given</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.hamcrest.CoreMatchers.containsString</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.hamcrest.Matchers.*</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * @author Przemyslaw Fusik</span>
<span class="cm"> * @author Steve Todorov</span>
<span class="cm"> */</span>
<span class="nd">@IntegrationTest</span>
<span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">SpringExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleControllerTest</span>
        <span class="kd">extends</span> <span class="n">RestAssuredBaseTest</span>
<span class="p">{</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetExamplesResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/all&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">OK</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;examples&quot;</span><span class="p">,</span> <span class="n">hasSize</span><span class="p">(</span><span class="n">greaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">)));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetExampleResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/get/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">OK</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;name&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetNonExistingJsonExampleResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/get/not-found&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">NOT_FOUND</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetNonExistingPlainExampleResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/get/not-found&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">NOT_FOUND</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="n">ExampleController</span><span class="p">.</span><span class="na">NOT_FOUND_MESSAGE</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testDeleteExampleResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="s">&quot;/example-controller/delete/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">OK</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testDeleteNonExistingExampleResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="s">&quot;/example-controller/delete/not-found&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">NOT_FOUND</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testBadFormRequestWithJsonResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">ExampleForm</span> <span class="n">exampleForm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExampleForm</span><span class="p">();</span>
        <span class="n">exampleForm</span><span class="p">.</span><span class="na">setPassword</span><span class="p">(</span><span class="s">&quot;god&quot;</span><span class="p">);</span>

        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">exampleForm</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/example-controller/update/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">BAD_REQUEST</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()))</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;errors&quot;</span><span class="p">,</span> <span class="n">hasSize</span><span class="p">(</span><span class="n">greaterThan</span><span class="p">(</span><span class="mi">0</span><span class="p">)));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testBadFormRequestWithPlainTextResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">ExampleForm</span> <span class="n">exampleForm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExampleForm</span><span class="p">();</span>
        <span class="n">exampleForm</span><span class="p">.</span><span class="na">setPassword</span><span class="p">(</span><span class="s">&quot;god&quot;</span><span class="p">);</span>

        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">exampleForm</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/example-controller/update/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">BAD_REQUEST</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Validation error&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testEmptyFormRequestBodyWithJsonResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/example-controller/update/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">BAD_REQUEST</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testEmptyFormRequestBodyWithPlainTextResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/example-controller/update/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">BAD_REQUEST</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Empty request body&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testValidFormRequestWithJsonResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">ExampleForm</span> <span class="n">exampleForm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExampleForm</span><span class="p">();</span>
        <span class="n">exampleForm</span><span class="p">.</span><span class="na">setPassword</span><span class="p">(</span><span class="s">&quot;abcDEF1234&quot;</span><span class="p">);</span>
        <span class="n">exampleForm</span><span class="p">.</span><span class="na">setUsername</span><span class="p">(</span><span class="s">&quot;my-username&quot;</span><span class="p">);</span>

        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">exampleForm</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/example-controller/update/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">OK</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">not</span><span class="p">(</span><span class="n">nullValue</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testValidFormRequestWithPlainTextResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">ExampleForm</span> <span class="n">exampleForm</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ExampleForm</span><span class="p">();</span>
        <span class="n">exampleForm</span><span class="p">.</span><span class="na">setPassword</span><span class="p">(</span><span class="s">&quot;abcDEF1234&quot;</span><span class="p">);</span>
        <span class="n">exampleForm</span><span class="p">.</span><span class="na">setUsername</span><span class="p">(</span><span class="s">&quot;my-username&quot;</span><span class="p">);</span>

        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">exampleForm</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">post</span><span class="p">(</span><span class="s">&quot;/example-controller/update/foo-bar&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">OK</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Credentials have been successfully updated&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testExceptionHandlingWithJsonResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/handle-exception&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">,</span> <span class="n">containsString</span><span class="p">(</span><span class="s">&quot;This example message will be logged in the logs and sent to the client.&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testExceptionHandlingWithPlainTextResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/handle-exception&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;This example message will be logged in the logs and sent to the client.&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testUnhandledExceptionHandlingWithJsonResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/unhandled-exception&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="s">&quot;error&quot;</span><span class="p">,</span> <span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Something bad happened.&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testUnhandledExceptionHandlingWithPlainTextResponse</span><span class="p">()</span>
            <span class="kd">throws</span> <span class="n">Exception</span>
    <span class="p">{</span>
        <span class="n">given</span><span class="p">().</span><span class="na">accept</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">TEXT_PLAIN_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">contentType</span><span class="p">(</span><span class="n">MediaType</span><span class="p">.</span><span class="na">APPLICATION_JSON_VALUE</span><span class="p">)</span>
               <span class="p">.</span><span class="na">when</span><span class="p">()</span>
               <span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;/example-controller/unhandled-exception&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="na">peek</span><span class="p">()</span> <span class="c1">// Use peek() to print the output</span>
               <span class="p">.</span><span class="na">then</span><span class="p">()</span>
               <span class="p">.</span><span class="na">statusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="p">.</span><span class="na">value</span><span class="p">())</span>
               <span class="p">.</span><span class="na">body</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Something bad happened.&quot;</span><span class="p">));</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
</details>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: 2020-12-07
    
  </small>
</div>
                  
                
              

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="getting-started-with-persistence.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting started with persistence
              </div>
            </div>
          </a>
        
        
          <a href="using-the-event-api.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Events API
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../assets/javascripts/medium-zoom.min.js"></script>
      
        <script src="../assets/javascripts/main.js"></script>
      
    
  </body>
</html>